# Lecture 04

**2021-09-21(T)**

Recording available here:

**!!! Start Recording, JP !!!**

## odds & ends

- [ ] [quick poll, please](https://www.directpoll.com/r?XDbzPBd3ixYqg8aM6HAAxEFkbD3iEPxTGiMZyeyf)
  - [ ] https://directpoll.com/c?XDVhEt8pRcbhnr5feG0ZmAVwb3WoQhG
- [ ] I was pretty flexible with "doneness"...that flexibility will be decreasing....
- [ ] clarity around next Thursday
- [ ] still finding my lecture groove. I've had a mini-epiphany
  - [ ] leave "easy for for person w/ Java exp" stuff
  - [ ] focus on JS new stuff
  - [ ] mention JS weird stuff...but don't dive too deep (leave that for you if you wanna be 'that JS dev')
- [ ] 2 external resource suggestions:
  - [ ] [Execute Program's](https://www.executeprogram.com/) JavaScript Arrays course. We're covering some array stuff today.
  - [ ] Frontend Masters courses; you get 6 months of free access via the [GitHub Student Developer Pack](https://education.github.com/pack). Stellar stuff, but leans heavily toward intermediate/advanced developers.

## something on your mind?

https://onlinequestions.org (use event number **20210404**) or Meet chat

**Any questions right now?**

## what's ahead?

- tut-02 on Friday, Sept 24
- asg-01 milestone 1 submission this Wednesday, Sept 22
  - milestone 1: how I'm going to mark
    - go to your repo
    - look for the LAST branch with the word "submit" it in that's on time
    - go to the URL you provided, prepended with "submitxx--"

## a brief recap

- JS can go inline (don't do it), embedded (don't do it unless told to), or external (preferred; usually in `<head>`)
- prefer `let` over `var`
- `const` only means the value in that constant's "memory slot" can't change
  - primitives can't be altered (try it)
  - array contents **can** be modified
  - objects (later today) **can** be altered

> _Unless your workplace dictates it for you, you get to choose where you want to sit on the const fence: the "whenever you can" camp, or the "only when you mean it" camp. I'm honestly fine either way. Life's too short._

- we can create popups by calling `alert` and `prompt` - Web API methods
- we can log/warn/error/info to console (not JS - just a convenience to devs provided by environment)
- we can write to an HTML doc with `document.write`, though normally shouldn't
- primitive types most commonly encountered are `boolean`, `number`, `string`, and `undefined`.
- everything else is a reference type (object)
- just like Java, there are some "built-in" objects that you encounter a lot - and which have useful methods
  - suggest getting familiar at first with `Number` and `String`
  - use MDN docs to find out their methods and usage...and to discover other "built-ins"
- concatenation can be done with `+` (like in Java) or with `template literals` (which are kinda like `format` and `printf` in Java...kinda - I like JS-style better)
- conditionals are pretty much like Java:
  - `if`, `else if`, and `else`
  - `switch`
  - `conditional/ternary operator` (quite common in JS...you should know it on sight, even if you don't use it yourself. (you should use it yourself :) )

## 8.4 Conditionals

- the comparator operators you are used to from Java are all in JS:
  - ==, !=
  - <, <=
  - \>, >=
- but we have these weirdos as well:

  - ===
  - !==

- what's the difference between ==/=== (and !=/!==)? anyone?

- note we do NOT have these available:
  - <==, >==
  - some interesting discussions out there as to why can be found

If you want to dive deeper into this, you can check out [Deep JavaScript Foundations by Kyle Simpson](https://frontendmasters.com/courses/deep-javascript-v3) on Frontend Masters.

- _why_ have them? anyone?

  - if you don't use them, what does the JS engine do? (coerce)

## coercion

Though some people might quibble, we can consider **type coercion** (or just **coercion**) basically the same as type casting, which you've seen in Java sometimes. Remember stuff like this?

```java
int someInt = (int)400.20;

// or

ArrayList<Integer> someNums = new ArrayList<>();
sumeNums.add(3);
```

- this coercion is a well-known (maybe **the** most well-known) part of JS' quirkiness. See the [WAT video](https://www.youtube.com/watch?v=3se2-thqf-A)
- so to not be surprised, you would have to have a good understanding of the coercion process. This is a lot of work.
  - it's necessary work if you want to be a JS wizard...but that's not the goal of this course. If you want to be a wizard, I'd look into anything done by Kyle Simpson. Dude knows his JS.

It's easy to rag on JS for some of its decisions, like coercion.
Keep in mind, these decisions were made in a certain point in history.
A lot of webwork is with text, right? It kinda makes sense to make a language that provides developers with some shortcuts. Of course, this has repercussions:

- if you don't understand what's going on, you can be confused by a lot of "buggy" behaviour
- if you're just learning the language and you're not at least aware of what's going on, you'll probably create incorrect mental models which is going to make your work with the language very confusing...and models can be hard to "shake"

So, for me, this part of JS (and a few others) are basically "the road to hell is paved with good intentions" kind of thing. :)

Here's an example of some code where folks were getting correct behaviour...but just because they were "lucky".

**tut-01 ex 06:**

```javascript
const conversion = 5;

let userInput = prompt("How many teaspoons?");

document.write(
  `<h1>There are ${conversion * userInput}mL in ${userInput} teaspoons.</h1>`
);
```

Where's the coercion happening?  
What happens if this had been `conversion + userInput`?  
How would you fix this?

#### So what should you do about this confusing beast?

Honestly? That depends on how far you want to go in the language at the moment. If you plan on becoming skilled, you need to take the time to learn how things work. You've got to pop the hood.

If you just want to get through the course, or you're doing a quick-and-dirty project, you can get away with skipping the deep learning dive and just take some precautions that should reduce the chance of you falling for the more common pitfalls. (Wanting to do this does not make you a bad person, by the way.)

- use `let`, not `var`
- use strict comparisons by default
- use tools like ESLint to keep you honest
- use `use strict` to do the same

## 8.4.1 Truthy and Falsy

This is very much NOT like Java, so let's talk about it.

In Java, if you have a condition in an if/else-if or loop, it has to explicitly evaluate to true or false:

```java
while (!list.empty()) // empty() returns a boolean

// or

if (tax > 12 && service.equals("OK")) // each part of this tests is an explicit boolean value

```

In Javascript, thanks to - you guessed it - coercion, **anything** is turned into a boolean value when tossed into a condition! Using JS, everything is either `truthy` or `falsy`. Fortunately, there are only 7 things that evaluate to falsy:

1. false (well, duh)
2. null
3. ""
4. '' (that's easy - it's the same as 3, just a wee bit different)
5. 0
6. NaN
7. undefined

These actually all kinda make sense, so it's not too hard to remember them.

Avoid doing (blah === true) or (blah == false) and the like - it's considered a bit gauche.

You should know this stuff, because it's used a TON in "real life" JS code.

## 8.5 Loops

## 8.6 Arrays (imporant)

## 8.6.1 Iterating (through) an array with `for...of`

## 8.6.2 Array Destructuring (very useful)

## 8.7 Objects

Let's actually do some coding and see what kind of things we can figure out about JS's variables.

We did a quick practice at the end of last lecture, but it was rushed. Let's do it again.

---

<table>
<tr>
<td>Predict: what value will foo have?</td>
</tr>
<tr>
<td>

```javascript
let foo = 32;
foo = true;
foo = "bar";
```

</td>
</tr>
<tr>
<td>
check whether your prediction was correct - type foo into your console!
(that's kinda neat, eh? notice how it's greyed out? hmm....)
</td>
</tr>
</table>

<table>
<tr>
<td>Predict: what value will foo have?</td>
</tr>
<tr>
<td>

```javascript
var foo = 32;
foo = true;
foo = "bar";
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

<table>
<tr>
<td>Predict: what value will foo have?</td>
</tr>
<tr>
<td>

```javascript
const foo = 32;
foo = true;
foo = "bar";
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from these examples?

---

<table>
<tr>
<td>Predict: what value will foo have?</td>
</tr>
<tr>
<td>

```javascript
let foo;
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from this example?

---

<table>
<tr>
<td>Predict: what value will foo have? Careful!</td>
</tr>
<tr>
<td>

```javascript
let foo = 32;
foo = true;
foo = bar;
foo = "whuuuut?";
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from this example?

---

### var, let, const

- Table 8.1 in the book (p. 361) has a nice summary
- suggest you use let, const...but you need to know var on sight (and be comfortable with its quirks if you intend to work "in industry")
  - we can't talk about `var` properly without talking about functions first, so...hold off
- we'll be talking more about scope issues and these keywords later in the chapter

## 8.3.1 JavaScript Output

### alert and prompt

- we'll start with `alert` and `prompt`for user-interactive output and input...but move away quickly
  - remember: not really JS!
  - these have docs on MDN. You should look there.
  - I'll switch to Live Server because it's annoying to work with these two rascals in Live Preview
    - if you just have Live Preview, it's not a huge deal...but you might get a bit peevish shortly :)

<table>
<tr>
<td>Predict: what will happen if we do the following?</td>
</tr>
<tr>
<td>

```javascript
alert("How exciting!");
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from this example?

---

<table>
<tr>
<td>Predict: What will be in "result" if we run the following and enter "peas" at the prompt?</td>
</tr>
<tr>
<td>

```javascript
const result = prompt("What's round & green?");
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

<table>
<tr>
<td>Predict: What will be in "result" if we run the following and hit cancel? Enter nothing? Enter just whitespace? Close the dialog via Esc?</td>
</tr>
<tr>
<td>

```javascript
const result = prompt("What's round & green?");
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from these examples?

---

**Now that I'm done using `alert` and `prompt`, I'll switch back to Live Preview, 'cause I like the faster feedback.**

---

### console

`console.log()` is insanely useful and common

<table>
<tr>
<td>Predict: What will happen when the following code is run?</td>
</tr>
<tr>
<td>

```javascript
console.log("yo");
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

<table>
<tr>
<td>Predict: What will happen when the following code is run?</td>
</tr>
<tr>
<td>

```javascript
console.log("yo", 3);
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from these examples?

---

<table>
<tr>
<td>Predict: What will happen when the following code is run?</td>
</tr>
<tr>
<td>

```javascript
let x = 4;
console.warn(x * 2);

x = 10;
console.error(x * 2);
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from these examples?

---

**console.log rocks**

Super-useful way to check your variables and see what's going on in your code. (what do you call these kind of statements?)

Don't get me wrong, the debugger is great - and you should _definitely_ learn how to use it - but damn, you can get through a lot of problems with a simple console.log!

**gotcha**

Notice anything about the line numbers that Live Preview is reporting? How does that differ from Live Server output?

### document.write()

You can use `document.write` to "write" stuff to our HTML document dynamically:

<table>
<tr>
<td>Predict: What will happen when the following code is run?</td>
</tr>
<tr>
<td>

```javascript
document.write("<h1>What dark witchery is this?!?</h1>");
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

**gotcha**
Look CAREFULLY at the resulting html in the devtools. Anything seem...off?

<table>
<tr>
<td>Predict: What will happen when the following code is run?</td>
</tr>
<tr>
<td>

```javascript
let name = prompt("Yer name?");

document.write("Are we having fun yet, " + name + "?");
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from these examples?

---

**thoughts**

Using `document.write` is actually a pretty bad idea except for when puttering (or for the first few tutorials :) )

- can have unpredictable effects
- can be a security hole
- doesn't get added to the DOM, which severely limits its usefulness (more on this when we hit chapter 9)

## 8.3.2 Data Types

- [Java] we've got primitive types and reference types
- [!Java] we've got primitives, but our primitive list is quite a bit different. From MDN (remember MDN?):

  - Boolean
  - Number
  - String
  - Null (weird)
  - Undefined (weird)
  - BigInt (not in text...don't worry 'bout it)
  - Symbol (advanced...don't worry 'bout it)

- [Java] visualizing memory is useful, especially when references are involved

  - to the ~~Batcave~~ whiteboard!
  - from Fig 8.9 (p 366) in the text

<table>
<tr>
<td>Predict: What will happen after each line is executed? How can we visualize memory at each step?</td>
</tr>
<tr>
<td>

```javascript
let abc = 27;
abc = 35;

let message = "hello";
message = "bye";

let msg = "hello";
msg = "hello";

let foo = [45, 35, 25];
foo[0] = 123;
foo[0] = "this is ok";

let person = { name: "Randy" };
person.name = "Ricardo";
person = {};
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

---

# We got this far in lecture today

---

<table>
<tr>
<td>Predict: What will happen after each line is executed? How can we visualize memory at each step?</td>
</tr>
<tr>
<td>

```javascript
const abc = 27;
abc = 35;

const message = "hello";
message = "bye";

const msg = "hello";
msg = "hello";

const foo = [45, 35, 25];
foo[0] = 123;
foo[0] = "this is ok";

const person = { name: "Randy" };
person.name = "Ricardo";
person = {};
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from these examples?

---

**so when should I use const?!?**

Two schools of thought:

- use it whenever possible...what's the harm?
- only use it when it's "meant" to be used

> you can SCREAMING_CASE if you want, but...

<table>
<tr>
<td>Predict: Just run these in the console, because if you're using Live Preview, you get some console pollution. What will you see after you type each line?</td>
</tr>
<tr>
<td>

```javascript
typeof 88;
typeof 132.0;
typeof "monorail!";
typeof true;
typeof undefined;
typeof null;
typeof { name: "Monty" };
typeof [1, 2, 3];
typeof alert;
```

</td>
</tr>
<tr>
<td>
check
</td>
</tr>
</table>

### ðŸ›‘ <span style="color:red">STOP</span>

What things have we observed from these examples?

---

## 8.3.3 Built-In Objects

- [Java] just like all the built-in stuff available in the Java API (ArrayList, Collection, Date, TreeMap, etc.), JS has built-in stuff as well.
  - Go take a look. Where? (Do I have to say it? :) )
    - You can actually use "built-in objects" in your search
  - Play around with some of them. Especially `Number`, which is among the skills checked tomorrow....

#### 8.3.4 Concatenation [tut-01 cutoff topic]

- pick a style and be consistent (or follow your shop's rules)
- just because you **can** use ` all the time doesn't mean you should - it has a meaning and sends a signal to readers; don't mess with their heads

- hitting conditionals and such might be a good opp to talk about Front End Masters courses and their availability via GitHub student pack. Also Execute Program?

- [ ] coercion

  - [ ] [WAT video](https://www.youtube.com/watch?v=3se2-thqf-A)

- why is it "undefined" and not "uninitialized"?!?!?

---

**HERE ENDETH THE LESSON**

---

## questions from y'all during the lecture

### anonymous qs

### Meet qs

## suggestions for success

So what's upcoming in the near future?

- tut-01 on Friday, Sept 17
- the asg-01 milestone 1 submission on Wednesday, Sept 22

Based on these, if I were taking this course, I'd work to:

- make sure I'm super-comfortable cloning a tutorial onto my machine. Ideally, I wanna do that without having to think too much or fumble around...the second the GitHub Classroom link goes live, I wanna have the repo on my machine and start reading the instructions within 60 seconds. If I wasn't at that point, I'd practice until I _was_ at that point.

- read the [preview for tut-01](https://github.com/MRU-CSIS-3512-202104-001/tutorial-previews/blob/main/tut-01.md), make sure I've done its prerequisites (especially the suggested lab exercises), and make sure I feel comfortable with all the skills mentioned.

- be well into the suggestions mentioned in the "assignment nudge" announcement on Blackboard made on September 12.
